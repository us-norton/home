"use strict";(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([[2219],{8289:function(t,e,n){var r=13,o=27,c=38,a=40,u=9,s="PRINTABLE",i="TYPING",l="READY",f="SEARCHING",d="auto-close",p="always-open",h=n(5458),b=n(4980),v={},m=0;function g(t,e){var n=Object.assign({},e),r=[],o=t||"context-".concat(++m),c=function(){r.forEach((function(t){t(n)}))},a={get id(){return o},get state(){return n},set:function(t){n=Object.assign({},t),c()},update:function(t,e){n=Object.assign({},n,(0,b.A)({},t,e)),c()},subscribe:function(t){r.push(t)},publish:c,reset:function(){n=Object.assign({},e),c()}};return v[o]=a,a}Object.defineProperty(g,"get",{value:function(t){return v[t]},writable:!1,enumerable:!1,configurable:!1});var y=g,x=function(t,e){var n;return function(r){if(r!==n){if(!e)return n=r,t(r);if("string"==typeof e){if((n||{})[e]!==(r||{})[e])return n=r,t(r)}else if(e instanceof Array){if(e.some((function(t){return(n||{})[t]!==(r||{})[t]})))return n=r,t(r)}else if(e instanceof Function&&!e(n,r))return n=r,t(r)}}},A={resultItem:function(t){var e=t.total,n=t.nth,r=t.titleWithHighlight,o=t.url,c=t.disabled;return'<a id="result-nth-'.concat(n,'" aria-selected="false" role="option" tabindex="-1" \n        aria-setsize="').concat(e,'" aria-posinset="').concat(n,'" ').concat(c?'aria-disabled="true"':"",' href="').concat(o,'"><span aria-hidden="true">').concat(r,"</span></a>")}};function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){(0,b.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var j=function(t,e){return t.replaceAll(/{(.*?)}/g,(function(t,n){return n in e?e[n]:""}))},S=function(t,e){var n;return function(r){var o=r.currentTarget;n&&clearTimeout(n),n=setTimeout((function(){o.closest(t)!==document.activeElement.closest(t)&&e(w(w({},r),{},{currentTarget:o}))}),1)}};function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){(0,b.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P={instances:{},css:{main:"sc-autocompletesearchresult",hidden:"sc-autocompletesearchresult--hidden"},dom:{main:function(t){return t.querySelectorAll(".".concat(P.css.main))}},event:{contextResultChanged:function(t){return function(e){var n=e.status,r=e.result,o=e.searchText;if(n===l){var c=r.length,a=[];if(o&&!r.length){var u=j(t.getAttribute("data-no-result-msg")||"",{count:c,searchText:o});a=[A.resultItem({total:0,nth:1,titleWithHighlight:u,url:"",disabled:!0})]}else a=r.map((function(t,e){return A.resultItem(C(C({},t),{},{total:c,nth:e+1}))}));var s=(new DOMParser).parseFromString(a.join(""),"text/html");t.replaceChildren.apply(t,(0,h.A)(s.body.children))}}},contextMenuVisibilityChanged:function(t){return function(e){e.showMenu?t.classList.remove(P.css.hidden):t.classList.add(P.css.hidden)}},contextSelectedIndexChanged:function(t){return function(e){var n;t.childNodes.forEach((function(t,r){r===e.selectedIndex?(t.setAttribute("aria-selected","true"),n=t):t.setAttribute("aria-selected","false")})),e.showMenu?(t.removeAttribute("hidden"),n&&n.scrollIntoView({behavior:"auto",block:"nearest"})):t.setAttribute("hidden","true")}},mouseLeaveOrEnter:function(t){return function(e){t.update("isFocusInMenu","mouseenter"===e.type)}}},init:function(t){var e=t.dataset.contextId,n=y.get(e);P.dom.main(t).forEach((function(t,r){t.dataset.contextId=e,t.dataset.iid="".concat(e,"-").concat(r+1),n.subscribe(x(P.event.contextResultChanged(t),"result")),n.subscribe(x(P.event.contextMenuVisibilityChanged(t),"showMenu")),n.subscribe(x(P.event.contextSelectedIndexChanged(t),"selectedIndex"));var o=P.event.mouseLeaveOrEnter(n);t.addEventListener("mouseleave",o),t.addEventListener("mouseenter",o)}))}},I=P,E=n(296);function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){(0,b.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={abortController:void 0,transform:function(t,e){var n=new RegExp(e,"gi");return t.map((function(t){return M(M({},t),{},{titleWithHighlight:(t.title||"").replace(n,"<mark>$&</mark>")})}))},autoCompleteSearch:function(t,e){return new Promise((function(n){try{var r=e.resultPerPage;if(t&&r){var o=window.nortonAnalytics||{},c=o.site_language,a=o.site_country||"us",u="/bin/norton/search?language=".concat(c||"en","&country=").concat(a,"&query=").concat(t);_.abortController&&_.abortController.abort("cancel search request"),_.abortController=new AbortController,fetch(u,{method:"GET",signal:_.abortController.signal}).then((function(t){return t.json()})).then((function(e){var r=e.elasticValues,o=void 0===r?[]:r;n({data:{result:_.transform(o.slice(0,5),t),searchText:t}})})).catch((function(e){console.log("Error: SearchService::API : "+e),n({data:{result:[],searchText:t}})}))}else console.log("Error: SearchService:: missing configuration"),n({data:{result:[],searchText:t}})}catch(t){console.log("Error: SearchService::autoCompleteSearch : "+t)}}))}},D=_;function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){(0,b.A)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var q={css:{root:"c-autocompletesearch",main:"sc-autocompletesearchbar",textInput:"sc-autocompletesearchbar__text-input",textInputAndMenu:['[role="combobox"][aria-owns]','[role="listbox"][id]'],focus:"sc-autocompletesearchbar--focus",active:"sc-autocompletesearchbar--active"},dom:{main:function(t){return t.querySelectorAll(".".concat(q.css.main))},root:function(t){return t.closest(".".concat(q.css.root))},textInput:function(t){return t.querySelector(".".concat(q.css.textInput))},textInputAndMenu:function(t){return Array.from(t.querySelectorAll(q.css.textInputAndMenu)).reduce((function(t,e){var n="",r="";return e.hasAttribute("aria-owns")&&"combobox"===e.role?(n=e.getAttribute("aria-owns"),r="input"):e.id&&"listbox"===e.role&&(n=e.id,r="list"),n&&(t[n]||(t[n]={}),t[n][r]=e),t}),{})}},action:(0,b.A)((0,b.A)((0,b.A)((0,b.A)((0,b.A)({},a,(function(t,e){t.preventDefault();var n=e.state.selectedIndex+1;n<e.state.result.length&&(t.currentTarget.value=e.state.result[n].title,e.update("selectedIndex",n))})),c,(function(t,e){t.preventDefault();var n=e.state.selectedIndex-1;n>-1&&(t.currentTarget.value=e.state.result[n].title,e.update("selectedIndex",n))})),o,(function(t,e){e.state.showMenu&&(t.currentTarget.value=e.state.searchText,e.update("showMenu",!1))})),r,(function(t,e,n){var r=e.state,o=r.showMenu,c=r.selectedIndex,a=r.result;o&&c>-1&&a.length&&a[c]&&a[c].url?window.location.href=a[c].url:n(t.currentTarget.value)})),s,(function(t,e,n){e.state.status!==i&&e.set(B(B({},e.state),{},{status:i,selectedIndex:-1})),n(t.currentTarget)})),event:{onInputTextKeyDown:function(t,e,n){return function(u){var i=u.keyCode,f=t.state.showMenu;if(function(t){return(t>47&&t<58||32===t||8===t||46===t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223)&&s}(i))q.action[s](u,t,e);else{if(t.state.status!==l)return void u.preventDefault();i===a&&f?q.action[a](u,t):i===c&&f?q.action[c](u,t):i===o?q.action[o](u,t):i===r&&q.action[r](u,t,n)}}},onContextSearchTextChange:function(t){return function(e){var n="aria-describedby",r="data-aria-describedby";!e.searchText&&t.hasAttribute(r)?(t.setAttribute(n,t.getAttribute(r)),t.removeAttribute(r)):e.searchText&&!t.hasAttribute(r)&&(t.setAttribute(r,t.getAttribute(n)),t.removeAttribute(n))}},onContextStatusChange:function(t){return function(e){var n=e.status===l&&e.showMenu&&e.result.length>0?"true":"false";n!==t.ariaExpanded&&t.setAttribute("aria-expanded",n),e.showMenu&&e.selectedIndex>-1?t.setAttribute("aria-activedescendant","result-nth-".concat(e.selectedIndex+1)):t.removeAttribute("aria-activedescendant")}}},sendToSearchPage:function(){var t=document.querySelector(".c-topnav"),e=t.dataset.searchpagevanity,n=t.dataset.searchpagepath,r="";r=window.location.host.indexOf("norton.com")>-1&&""===window.location.port?e:n+".html";var o=document.createElement("a");o.href=r;var c=new URL(o.href);return function(t){c.searchParams.set("query",t),window.location.href=c.toString()}},doAutoCompleteSearch:function(t,e){return function(n){var r=n.value;r?r.length<3?t.set({searchText:r,result:[],status:l,showMenu:!1,selectedIndex:-1}):(t.update("status",f),D.autoCompleteSearch(r,e).then((function(e){var n=e.data,r=n.searchText,o=n.result;t.set({searchText:r,result:o,status:l,showMenu:!0,selectedIndex:-1})}))):t.set({searchText:"",result:[],status:l,showMenu:!1,selectedIndex:-1})}},setup:function(t,e,n,r){t.addEventListener("keydown",q.event.onInputTextKeyDown(e,n,r)),e.subscribe(x(q.event.onContextSearchTextChange(t),"searchText")),e.subscribe(x(q.event.onContextStatusChange(t),["status","showMenu","selectedIndex"]))},init:function(t,e){var n,r,o,c=t.dataset.contextId,a=y.get(c),u=(n=q.doAutoCompleteSearch(a,e),r=300,function(){for(var t=arguments.length,e=new Array(t),c=0;c<t;c++)e[c]=arguments[c];clearTimeout(o),o=setTimeout((function(){n.apply(null,e)}),r)}),s=q.sendToSearchPage();Object.entries(q.dom.textInputAndMenu(t)).forEach((function(t){var e=(0,E.A)(t,2)[1].input;q.setup(e,a,u,s)}))}},F=q,R={css:{root:"c-autocompletesearch",main:"c-autocompletesearch__status"},dom:{main:function(t){return t.querySelectorAll(".".concat(R.css.main))},root:function(t){return t.closest(".".concat(R.css.root))}},event:{onContextStatusChange:function(t){return function(e){var n={searching:"data-searching-msg","no-result":"data-no-result-msg","has-result":"data-has-result-msg"},r="none",o=e.result,c=e.searchText,a=e.status,u=e.showMenu;a===f?r="searching":e.status===l&&(r=u?o.length?"has-result":c?"no-result":"none":"none"),t.forEach((function(t){t.textContent="none"===r?"":j(t.getAttribute(n[r])||"",{count:o.length,searchText:c})}))}}},init:function(t){var e=t.dataset.contextId;y.get(e).subscribe(x(R.event.onContextStatusChange(R.dom.main(t)),["status","showMenu"]))}},N=R,H="c-autocompletesearch",V="c-autocompletesearch--focus",G="sc-autocompletesearchbar",K="sc-autocompletesearchbar--open",W="sc-autocompletesearchbar--focus",U={state:{clearBtnClick:{result:[],searchText:"",status:l},inputTextBlur:function(t){return Object.assign({},t,{showMenu:!1})},inputTextFocus:function(t){var e=t.result.length&&t.searchText;return Object.assign({},t,{showMenu:e})}},event:{onBlur:function(t){return S(".".concat(H),(function(e){var n=e.currentTarget.closest(".".concat(G));n.classList.remove(W),n.closest(".".concat(H)).classList.remove(V),t.set(U.state.inputTextBlur(t.state))}))}},setup:function(t,e,n,r,o){var c=U.event.onBlur(t,n,r,o);e.classList.add(K);var a=U.state;r.removeAttribute("tabindex"),o.removeAttribute("tabindex"),n.setAttribute("tabindex","-1"),o.addEventListener("click",(function(){r.value="",r.focus(),t.set(a.clearBtnClick)})),r.addEventListener("focus",(function(){e.classList.add(W),e.closest(".".concat(H)).classList.add(V),t.set(a.inputTextFocus(t.state))})),o.addEventListener("blur",c),r.addEventListener("blur",c)}},Y={state:{clearBtnClick:{result:[],searchText:"",status:l,showSearchBox:!1},inputTextBlur:function(t){return Object.assign({},t,{showMenu:!1,showSearchBox:!1})},inputTextFocus:function(t){return Object.assign({},t,{showMenu:!1,showSearchBox:!0})}},event:{onBlur:function(t,e,n,r){return S(".".concat(H),(function(e){var o=e.currentTarget.closest(".".concat(G));Y.prepClose(o,n,r),t.set(Y.state.inputTextBlur(t.state))}))}},prepOpen:function(t,e,n){t.classList.add(K,W),t.closest(".".concat(H)).classList.add(V),document.querySelector(".c-topnav__navsec__lt-col").classList.add("c-topnav__navsec__lt-col--collapse"),e.removeAttribute("tabindex"),n.removeAttribute("tabindex")},prepClose:function(t,e,n){t.classList.remove(K,W),t.closest(".".concat(H)).classList.remove(V),document.querySelector(".c-topnav__navsec__lt-col").classList.remove("c-topnav__navsec__lt-col--collapse"),e.setAttribute("tabindex","-1"),n.setAttribute("tabindex","-1")},setup:function(t,e,n,r,o){var c=Y.event.onBlur(t,n,r,o),a=Y.state;n.addEventListener("click",(function(){Y.prepOpen(e,r,o),r.focus()})),o.addEventListener("click",(function(){Y.prepClose(e,r,o),r.value="",n.focus(),t.set(a.clearBtnClick)})),r.addEventListener("focus",(function(){Y.prepOpen(e,r,o),t.set(a.inputTextFocus(t.state))})),r.addEventListener("keydown",(function(n){var c=n.shiftKey,s=n.keyCode;c&&s===u&&(Y.prepClose(e,r,o),t.set(a.inputTextBlur(t.state)))})),n.addEventListener("blur",c),o.addEventListener("blur",c),r.addEventListener("blur",c)}},$={dom:{searchBar:function(t){return t.querySelectorAll(".".concat(G))},focusableElem:function(t){return t.querySelectorAll("button, input")}},type:(0,b.A)((0,b.A)({},p,U.setup),d,Y.setup),init:function(t){var e=t.dataset.contextId,n=y.get(e),r=(t.dataset.type||"").toLowerCase(),o=$.dom.searchBar(t),c=$.type[r];c?o.forEach((function(t){var e=$.dom.focusableElem(t),r=(0,E.A)(e,3),o=r[0],a=r[1],u=r[2];c(n,t,o,a,u)})):console.log("behavior::init ".concat(r," not found"))}},z=$,J={css:{main:"c-autocompletesearch",textInput:"sc-autocompletesearchbar__text-input",resultMenu:"sc-autocompletesearchresult"},dom:{main:function(){return document.querySelectorAll(".".concat(J.css.main))},textInput:function(t){return t.querySelectorAll(".".concat(J.css.textInput))}},getAutocompleteApiConfiguration:function(t){try{return{resultPerPage:Number(t.dataset.resultPerPage)}}catch(t){console.log("Autocomplete getAutocompleteConfiguration:init() ::",t)}},setup:function(t,e){var n="acs-".concat(e+1);new y(n,{result:[],searchText:"",status:l,showMenu:!1,showSearchBox:!1,selectedIndex:-1}),t.dataset.contextId=n;var r=J.getAutocompleteApiConfiguration(t);I.init(t),F.init(t,r),N.init(t),z.init(t)},init:function(){try{J.dom.main().forEach(J.setup)}catch(t){console.log("Autocomplete Search:init() ::",t)}}},Q=J;document.addEventListener("DOMContentLoaded",Q.init)},3145:function(t,e,n){function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{A:function(){return r}})},4980:function(t,e,n){n.d(e,{A:function(){return c}});var r=n(2284);function o(t){var e=function(t,e){if("object"!=(0,r.A)(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==(0,r.A)(e)?e:e+""}function c(t,e,n){return(e=o(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},296:function(t,e,n){n.d(e,{A:function(){return o}});var r=n(7800);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,c,a,u=[],s=!0,i=!1;try{if(c=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=c.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){i=!0,o=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(i)throw o}}return u}}(t,e)||(0,r.A)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5458:function(t,e,n){n.d(e,{A:function(){return c}});var r=n(3145);var o=n(7800);function c(t){return function(t){if(Array.isArray(t))return(0,r.A)(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||(0,o.A)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2284:function(t,e,n){function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}n.d(e,{A:function(){return r}})},7800:function(t,e,n){n.d(e,{A:function(){return o}});var r=n(3145);function o(t,e){if(t){if("string"==typeof t)return(0,r.A)(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.A)(t,e):void 0}}}},function(t){var e;e=8289,t(t.s=e)}]);