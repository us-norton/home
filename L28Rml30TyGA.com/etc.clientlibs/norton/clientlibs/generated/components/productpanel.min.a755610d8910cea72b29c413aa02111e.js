"use strict";(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([[7350],{6996:function(e,t,n){var o,r={css:{main:"c-productpanel",defaultProduct:"c-productpanel__default-product"},dom:{elemAllBulletCount:function(e){return e.querySelectorAll(".".concat(r.css.main,"__grid .").concat(r.css.main,"__grid__product")).length},elemBulletWrapper:function(e){return e.querySelector(".".concat(r.css.main," .glide__bullets"))}},glideConfig:function(e,t){return{type:"slider",perView:1.2,rewind:!1,keyboard:!1,swipeThreshold:!1,dragThreshold:!1,startAt:e,breakpoints:{400:{perView:1.2,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1},600:{perView:1.15,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1},768:{perView:1.1,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1},1011:{perView:t,keyboard:!0,swipeThreshold:!0,dragThreshold:!0,rewind:!1}}}},generateBullets:function(e){for(var t=r.dom.elemAllBulletCount(e),n=r.dom.elemBulletWrapper(e),o=0;o<t;o++){var a=document.createElement("button");a.className="glide__bullet",a.setAttribute("data-glide-dir","="+o),n.appendChild(a)}},generateBulletsMultipleSliders:function(e,t,n){for(var o=document.querySelectorAll(".cmp-tabs")[n].querySelectorAll(".".concat(r.css.main," .glide__bullets")),a=0;a<e;a++){var c=document.createElement("button");c.className="glide__bullet",c.setAttribute("data-glide-dir","="+a),o[t].appendChild(c)}o[t].firstChild.classList.contains("glide__bullet--active")||o[t].firstChild.classList.add("glide__bullet--active")},createSliderControlElements:function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),o=document.createElement("button"),a=document.createElement("button"),c=document.createElement("div");return e.classList.add("glide"),t.classList.add("glide__track"),t.dataset.glideEl="track",n.dataset.glideEl="controls",n.classList.add(r.css.main+"-controls"),c.classList.add("glide__bullets"),c.dataset.glideEl="controls[nav]",o.dataset.glideDir="<",o.classList.add(r.css.main+"-prev-control"),a.dataset.glideDir=">",a.classList.add(r.css.main+"-next-control"),{glideSlider:e,glideTrack:t,glideControls:n,glideBullets:c,glideButtonLeft:o,glideButtonRight:a}},addSlider:function(e,t,n){try{var o=r.createSliderControlElements(),a=o.glideSlider,c=o.glideTrack,l=o.glideControls,i=o.glideBullets,d=o.glideButtonLeft,s=o.glideButtonRight;e.replaceChild(a,t),a.appendChild(t),a.replaceChild(c,t),c.appendChild(t),c.appendChild(l),l.appendChild(d),l.appendChild(s),c.appendChild(i),r.generateBullets(e),r.createSlider(a,t,n)}catch(e){console.log("prodpanel: addSlider ::"+e)}},addSliders:function(e,t,n,o,a){try{var c=r.createSliderControlElements(),l=c.glideSlider,i=c.glideTrack,d=c.glideControls,s=c.glideBullets,u=c.glideButtonLeft,p=c.glideButtonRight;e.replaceChild(l,t),l.appendChild(t),l.replaceChild(i,t),i.appendChild(t),i.appendChild(d),d.appendChild(u),d.appendChild(p),i.appendChild(s),r.generateBulletsMultipleSliders(t.childElementCount,n,o),r.createSlider(l,t,a)}catch(e){console.log("prodpanel: addSliders ::"+e)}},createSlider:function(e,t,n){try{var o=window.nCompUtils.glide,a=o.Breakpoints,c=o.Keyboard,l=o.Swipe,i=o.Controls,d=o.Glide,s=[e],u=t.querySelector(".".concat(r.css.defaultProduct))?t.querySelector(".".concat(r.css.defaultProduct)).dataset.productIndex:0,p=1.2;s&&(n>=3&&(p=2.2),s.forEach((function(e){new d(e,r.glideConfig(u,p)).mount({breakpoints:a,keyboard:c,swipe:l,controls:i})})))}catch(e){console.log("prodpanel: createSlider() ::"+e)}}},a=r,c=n(5458),l=n(296),i={css:{prodPanel:"c-productpanel",toggleBtn:"c-productpanel__features-toggle-btn",grid:"c-productpanel__grid__product",featureList:"c-productpanel__grid__features",featureListCollapsed:"c-productpanel__features-collapsed"},dom:{featureList:function(e){return e.querySelectorAll(".".concat(i.css.featureList))},toggleBtns:function(e){return e.querySelectorAll(".".concat(i.css.toggleBtn))},parentProdPanel:function(e){return e.closest(".".concat(i.css.prodPanel))},parentGrid:function(e){return e.closest(".".concat(i.css.grid))},grids:function(e){return e.querySelectorAll(".".concat(i.css.grid))}},getDeviceInfo:function(){var e=window.nUtil.device,t=e.isDesktop,n=e.isTablet,o=e.isMobile,r={d:t(),t:n(),m:o()};return r.code=Object.entries(r).find((function(e){return!!(0,l.A)(e,2)[1]}))[0],r},event:{toggleClick:function(e){var t=e.currentTarget,n=i.dom.parentProdPanel(t),o=i.dom.parentGrid(t),r=o.dataset.productIndex,a=i.getDeviceInfo(),c="data-ftrexp-".concat(a.code),l="true"===o.getAttribute(c),d=l?"false":"true";if(a.d?(i.dom.grids(n).forEach((function(e){e.setAttribute(c,d)})),i.dom.toggleBtns(n).forEach((function(e){e.setAttribute("aria-expanded",d)}))):(t.setAttribute("aria-expanded",d),o.setAttribute(c,d)),"undefined"!=typeof s&&!l){var u;nortonAnalytics&&(u=nortonAnalytics.page_name);var p="nortoncom-".concat(u,"_expander_product_").concat(Number(r)+1);s.linkTrackVars="prop41,eVar41",s.prop41="norton.com",s.eVar41="norton.com",s.tl(!0,"o",p)}}},getMaxHeightOfSection:function(e){return Math.max.apply(Math,(0,c.A)(Array.from(e,(function(e){return e.scrollHeight}))))},setup:function(e){var t=i.getDeviceInfo(),n=i.dom.featureList(e);if(t.d){var o=i.getMaxHeightOfSection(n),r="--prodpanel-min-height-".concat(t.code),a="".concat(o,"px");n.forEach((function(e){e.style.setProperty(r,a)}))}else{var c="--prodpanel-min-height-".concat(t.code);n.forEach((function(e){e.style.setProperty(c,"".concat(e.scrollHeight,"px"))}))}i.dom.toggleBtns(e).forEach((function(e){e.addEventListener("click",i.event.toggleClick)}))}},d=i;window.nCompUtils=window.nCompUtils||{};var u={css:{main:"c-productpanel",productGrid:"c-productpanel__grid",productUniversalSwitch:"c-productpanel--universal-switch",entSelected:"c-productpanel__ent--selected",entHidden:"c-productpanel__ent--hidden",toggleable:"c-productpanel__togglable",slider:"glide",radioGroup:"__toggle__rgroup",product:"c-productpanel__grid__product",msrp:"c-productpanel__msrp",saleprice:"c-productpanel__price__sale",toggleEnt:"c-productpanel__toggle__radio",secondaryCtaCont:"c-productpanel__secondary-cta-cont",deviceCount:"c-productpanel__device-count",gridProdTop:"c-productpanel__grid__product__top",defaultProduct:"c-productpanel__default-product",mepSale:"dp__mepSale",static:"dp__static",aepSale:"dp__aepDiscount",displayMep:"c-productpanel__display-mep",gridFeatures:"c-productpanel__grid__features",secondaryCta:"c-productpanel__secondary-cta"},dom:{elemMain:function(){return document.querySelectorAll(".".concat(u.css.main))},elemProductGrid:function(e){return e.querySelector(".".concat(u.css.productGrid))},elemProductCount:function(e){return e.childElementCount},elemAllToggle:function(e){return e.querySelectorAll(".".concat(u.css.main,"__toggle__radio"))},elemRadioGroups:function(){return document.querySelectorAll(".".concat(u.css.main).concat(u.css.radioGroup))},elemProductColumns:function(e){return(e||document).querySelectorAll(".".concat(u.css.product))}},isSliderType:function(e,t){var n=(e.dataset.panelType||"").toLowerCase(),o=window.nUtil.device,r=o.isMobile,a=o.isTablet;return"slider"===n&&(r()&&u.hasMultipleCard(t)||a()&&t>=3)},panelEqualizeHeightMapping:{},toEqualizeHeights:function(e){return u.heightClass[e]},setupHeightEqualizer:function(){var e=[".c-productpanel__grid__ptitle__product",".c-productpanel__grid__ptitle__tier",".c-productpanel__device-count",".c-productpanel__grid__ptoggle",".c-productpanel__grid__pmsrp",".c-productpanel__grid__pprice",".c-productpanel__grid__entnote",".c-productpanel__grid__entnote__bottom",".c-productpanel__grid__product__bottom__title",".c-productpanel__grid__pcta"];u.heightClass={},document.querySelectorAll(".".concat(u.css.main)).forEach((function(t){"slider"===t.dataset.panelType.toLowerCase()?u.heightClass[t.id]=[].concat(e,[".c-productpanel__grid__features"]):u.heightClass[t.id]=[].concat(e)}))},setupBanner:function(){u.dom.elemMain().forEach((function(e){var t=e.querySelectorAll(".c-productpanel__banner--fullwidth .c-productpanel__banner__bar");if(t.length>0){var n=[];t.forEach((function(e){var t=e.getBoundingClientRect().y;e.closest(".".concat(u.css.product)).style.setProperty("--prodpanel-banner-height","".concat(e.scrollHeight,"px")),n.push(t)}));var o=Math.min.apply(Math,n);u.dom.elemProductColumns(e).forEach((function(e){e.style.setProperty("--prodpanel-banner-equal-height","".concat(e.getBoundingClientRect().y-o,"px"))}))}}))},init:function(){performance.mark("product panel JS start");try{u.setupHeightEqualizer();var e=document.querySelectorAll(".cmp-tabs");e.length>0&&e.forEach((function(e,t){if(e.querySelector(".".concat(u.css.main))){var n=e.querySelectorAll(".".concat(u.css.main));e.querySelectorAll(".cmp-tabs__tabpanel").forEach((function(e){e.querySelector(".c-productpanel")&&document.querySelector('button.cmp-tabs__tab[aria-controls="'+e.id+'"]').addEventListener("click",(function(t){var n=e.querySelector(".glide"),o=e.querySelector(".c-productpanel__grid");n&&o?(console.log("re-mounting glide slider to ensure correct size"),setTimeout((function(){a.createSlider(n,o,u.dom.elemProductCount(o))}),100)):console.log("no glide slider here, no need to re-mount")}))})),n.forEach((function(e,o){var r=e.querySelector(".".concat(u.css.productGrid)),c=e.querySelector(".".concat(u.css.productGrid)).childElementCount,l=u.isSliderType(e,c);if(l){var i=u.dom.elemProductCount(r);n.length>1?a.addSliders(e,r,o,t,i):a.addSlider(e,r,i)}u.toggle(e,r),d.setup(e),window.nCompUtils.dynamicPricing.dynamicPricingGlobal.isDoneProcessing((function(){u.applyMonthlyEffectivePricing(e),u.analytics.updateInids(),u.analytics.updateSecondaryCtaInid(e),!l&&u.hasMultipleCard(c)&&u.equalizeInternalHeights(u.toEqualizeHeights(e.id),"#".concat(e.id))}))}))}}));var t=document.querySelectorAll(".".concat(u.css.main)),n=[];t.forEach((function(e,t){if(!e.closest(".cmp-tabs")){var o=u.dom.elemProductGrid(e),r=u.dom.elemProductCount(o),c=window.nUtil.device.isTablet(),l=u.isSliderType(e,r);l?(a.addSlider(e,o,r),u.scrollBehaviorY(o,t),c&&n.push(e.id)):u.hasMultipleCard(r)&&n.push(e.id),u.toggle(e,o),d.setup(e),window.nCompUtils.dynamicPricing.dynamicPricingGlobal.isDoneProcessing((function(){u.applyMonthlyEffectivePricing(e),u.analytics.updateInids(),u.analytics.updateSecondaryCtaInid(e),u.updateStaticMepAep(e),!l&&u.hasMultipleCard(r)&&u.equalizeInternalHeights(u.toEqualizeHeights(e.id),"#".concat(e.id))}))}})),n.length>0&&n.forEach((function(e){u.equalizeInternalHeights(u.toEqualizeHeights(e),"#".concat(e))})),u.setupBanner()}catch(e){console.log("productpanel: init() ::"+e)}},updateStaticMepAep:function(e){var t=e.querySelectorAll(".".concat(u.css.mepSale,".").concat(u.css.static,", .").concat(u.css.aepSale,".").concat(u.css.static));t.length>0&&t.forEach((function(e){var t;null!==(t=e.classList.contains(u.css.mepSale)?e.dataset.staticMep:e.dataset.staticAep)&&(e.textContent=t)}))},applyMonthlyEffectivePricing:function(e){window.nortonAnalytics&&("us"===window.nortonAnalytics.site_country.toLowerCase()&&e.querySelectorAll(".".concat(u.css.displayMep)).forEach((function(e){var t=e.querySelector(".".concat(u.css.toggleEnt)).dataset.entTitle;if("annual"===t.toLowerCase()||"1 year"===t.toLowerCase()||"yearly"===t.toLowerCase()){var n=e.querySelector(".".concat(u.css.msrp));u.calculateMep(n)}})))},calculateMep:function(e){var t=e.textContent;e.textContent=t.replace(t.match(/[0-9,\.]+/),(t.match(/[0-9,\.]+/)/12).toFixed(2))},equalizeInternalHeights:function(e,t){e.forEach((function(e){window.nUtil.css.equalizeHeights(e,t)}))},scrollBehaviorY:function(e,t){try{window.addEventListener("scroll",(function(){return u.scrollBehaviorEventListener(e,t)}))}catch(e){console.log("productpanel: scrollBehaviorY() ::"+e)}},scrollBehaviorEventListener:function(e,t){var n=0,o=window.scrollY;if(o>n+1||o<n-1){var r=e.getBoundingClientRect(),a=r.top>0,c=e.querySelector(".c-productpanel__grid__features").getBoundingClientRect();u.positionHorizontalScrollArrows(r,a,c,t),n=o}},positionHorizontalScrollArrows:function(e,t,n,o){try{var r=document.querySelectorAll(".c-productpanel")[o].querySelector(".c-productpanel-controls");t?r.style.top="".concat(180,"px"):n.top>50&&(r.style.top=180+Math.abs(e.top)+"px")}catch(e){console.log("productpanel: positionHorizontalScrollArrows() ::"+e)}},toggle:function(e,t){try{var n=e,o=u.dom.elemAllToggle(n),r=t.childElementCount,a=Array.from({length:r},(function(e,t){return t+1})),c=[],l=!0;o.length&&o.forEach((function(t,o){t.addEventListener("click",(function(t){var o=t.target.dataset.ent,i=t.target.dataset.product;n.classList.contains(u.css.productUniversalSwitch)||(r=1,l=!1);for(var d=function(){var e,r;i!==a[s]&&l&&(i=a[s]),c[i]={},n.querySelectorAll('.c-productpanel__toggle__radio[data-product="'.concat(i,'"][data-ent="').concat(o,'"]')).forEach((function(n){var o=n.parentElement.querySelectorAll("input");Array.from(o).forEach((function(t,o){t!==n?r=o:e=o})),o.length>1?(o[r].setAttribute("aria-checked",!1),o[r].setAttribute("tabindex","-1"),o[r].removeAttribute("checked"),o[r].checked=!1,o[e].setAttribute("aria-checked",!0),o[e].setAttribute("tabindex","0"),o[e].setAttribute("checked","true"),o[e].checked=!0,t.target.focus(),c[i].canToggle=!0):c[i].canToggle=!1})),n.querySelectorAll(".".concat(u.css.toggleable,'.c-productpanel__ent--selected[data-product="').concat(i,'"]')).forEach((function(e){var t=e.dataset.product;!0===c[t].canToggle&&(e.classList.remove(u.css.entSelected),e.classList.add(u.css.entHidden))})),n.querySelectorAll(".".concat(u.css.toggleable,'[data-product="').concat(i,'"][data-ent="').concat(o,'"]')).forEach((function(e){e.classList.add(u.css.entSelected),e.classList.remove(u.css.entHidden)}));var d=t.target.value,p=n.querySelector('.c-productpanel__grid__product [data-product="'.concat(i,'"][data-ent="').concat(o,'"] [data-link-type="buy-now"]'));setTimeout((function(){p&&u.analytics.addEntitlementToInid(d,i,o,p)}),200)},s=0;s<r;s++)d();u.equalizeInternalHeights(u.toEqualizeHeights(e.id),"#".concat(e.id))})),window.nUtil.userAgent.getBrowser().indexOf("firefox")>-1&&t.hasAttribute("aria-checked")&&"true"===t.getAttribute("aria-checked")&&(t.click(),document.activeElement.blur(),document.body.scrollTop=document.documentElement.scrollTop=0,window.location.hash=window.location.hash)}))}catch(e){console.log("prodpanel: toggle: "+e)}},analytics:{data:{pageName:(null===(o=window.nortonAnalytics)||void 0===o?void 0:o.page_name)||""},inidLoop:function(e,t){try{var n=new Promise((function(n){document.querySelectorAll(e).forEach((function(e){u.analytics.applyInid(e,t)})),n("Inid loop resolved")}));n.then((function(e){u.analytics.data.loopsFinished=!0})),n.then((function(e){"buylink"===t&&document.querySelectorAll(".c-productpanel__grid .c-productpanel__toggle__radio-label").forEach((function(e){var t=document.getElementById("".concat(e.htmlFor));if("true"===t.ariaChecked){var n=t.dataset.product,o=t.dataset.ent,r=e.dataset.entValue;document.querySelectorAll('.c-productpanel [data-product="'.concat(n,'"][data-ent="').concat(o,'"] [data-link-type="buy-now"]')).forEach((function(e){u.analytics.addEntitlementToInid(r,n,o,e)}))}}))}))}catch(e){console.log("prodpanel: inidLoop() ::"+e)}},applyInid:function(e,t){try{var n,o=window.nUtil.url.newUrlObject(e.href);if("buylink"===t){var r=window.nUtil.url.getPageString(e.dataset.productName);n="nortoncom-".concat(u.analytics.data.pageName,"_store_").concat(r,"_prodpanel")}else if("productName"===t){var a=window.nCompUtils.globalInid.getDestinationPageName(e.href);n="nortoncom-".concat(u.analytics.data.pageName,"_prodpanel_").concat(a)}return o.searchParams.set("inid",n.toLowerCase()),e.dataset.inid=n.toLowerCase(),e.dataset.hrefInid=decodeURIComponent(o.toString()),window.nCompUtils.globalInid.setupLink(e),!0}catch(e){console.log("prodpanel: error in applyinid: "+e)}},updateInids:function(){u.analytics.inidLoop('.c-productpanel [data-link-type="buy-now"]',"buylink"),u.analytics.inidLoop(".c-productpanel__grid__ptitle","productName"),performance.mark("product panel JS end"),performance.measure("product panel timings","product panel JS start","product panel JS end")},addEntitlementToInid:function(e,t,n,o){try{var r=window.nUtil.url.readParameter("inid",o.href);if(r){var a="monthly"===e.toLowerCase()&&!r.endsWith("-monthly"),c="monthly"!==e.toLowerCase()&&r.endsWith("-monthly"),l=r;if(a)l="".concat(r,"-monthly");else if(c){l=l.replace(/-monthly$/,"")}var i=window.nUtil.url.newUrlObject(o.href);i&&(i.searchParams.set("inid",l),o.href=i.href)}}catch(e){console.log("prodpanel: error on addEntitlementToInid: "+e)}},updateSecondaryCtaInid:function(e){var t=e.querySelectorAll(".".concat(u.css.secondaryCta)),n=window.nCompUtils.globalInid,o="prodpanel";t.forEach((function(e){var t=new URL(e.href),r=(e.dataset.linkType||"").replace(/\s/g,"");r||(e.dataset.linkType=o);var a=window.nCompUtils.globalInid.getDestinationPageName(e.href),c=window.nCompUtils.globalInid.generatePrefixOriginPageName(window.nortonAnalytics),l="".concat(c,"_").concat(r||o,"_").concat(a).toLowerCase();t.searchParams.set("inid",l),e.dataset.inid=l,e.dataset.hrefInid=decodeURIComponent(t.toString()),n.setupLink(e)}))}},hasMultipleCard:function(e){return e>=2}};document.addEventListener("DOMContentLoaded",(function(){u.init()})),window.addEventListener("pageshow",(function(e){u.dom.elemMain()&&(u.dom.elemRadioGroups().forEach((function(e){var t=e.querySelectorAll("input");if(t.length>1){var n=e.dataset.hasOwnProperty("selectedIndex")?parseInt(e.dataset.selectedIndex):0;t.forEach((function(e,t){t===n?(e.checked=!0,e.ariaChecked="true",e.tabIndex=0):(e.checked=!1,e.ariaChecked="false",e.tabIndex=-1)}))}})),u.dom.elemProductColumns().forEach((function(e){var t=e.querySelectorAll(".".concat(u.css.toggleable));if(t.length>3){var n=e.querySelector(".".concat(u.css.gridProdTop)).dataset.hasOwnProperty("selectedIndex")?parseInt(e.querySelector(".".concat(u.css.gridProdTop)).dataset.selectedIndex):0;t.forEach((function(e,t){parseInt(e.dataset.ent)-1===n?(e.classList.add(".".concat(u.css.entSelected)),e.classList.remove(".".concat(u.css.entHidden))):(e.classList.add(".".concat(u.css.entHidden)),e.classList.remove(".".concat(u.css.entSelected)))}))}}))),window.onunload=function(){}}))},3145:function(e,t,n){function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}n.d(t,{A:function(){return o}})},296:function(e,t,n){n.d(t,{A:function(){return r}});var o=n(7800);function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,a,c,l=[],i=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;i=!1}else for(;!(i=(o=a.call(n)).done)&&(l.push(o.value),l.length!==t);i=!0);}catch(e){d=!0,r=e}finally{try{if(!i&&null!=n.return&&(c=n.return(),Object(c)!==c))return}finally{if(d)throw r}}return l}}(e,t)||(0,o.A)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5458:function(e,t,n){n.d(t,{A:function(){return a}});var o=n(3145);var r=n(7800);function a(e){return function(e){if(Array.isArray(e))return(0,o.A)(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,r.A)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7800:function(e,t,n){n.d(t,{A:function(){return r}});var o=n(3145);function r(e,t){if(e){if("string"==typeof e)return(0,o.A)(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,o.A)(e,t):void 0}}}},function(e){var t;t=6996,e(e.s=t)}]);