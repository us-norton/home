"use strict";(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([[8667],{4848:function(n,t,e){var o=e(296),r={css:{main:"c-country-selector__popup",region:"c-country-selector__region",regionToggleBtn:"c-country-selector__region__btn",regionCountries:"c-country-selector__region__countries",popupCloseBtn:"c-country-selector__close-btn",popupBackBtn:"c-country-selector__back-btn",countryLink:"c-country-selector__country-link",openLayoverBtn:"c-country-selector__btn"},dom:{main:function(){return document.querySelector(".".concat(r.css.main))},regionAll:function(n){return n.querySelectorAll(".".concat(r.css.region))},regionToggleBtnAll:function(n){return n.querySelectorAll(".".concat(r.css.regionToggleBtn))},popupCloseBtn:function(){return document.querySelector(".".concat(r.css.popupCloseBtn))},popupBackBtn:function(){return document.querySelector(".".concat(r.css.popupBackBtn))},countryLinkAll:function(n){return n.querySelectorAll(".".concat(r.css.countryLink))},openLayoverBtnAll:function(){return document.querySelectorAll(".".concat(r.css.openLayoverBtn))}},isDesktop:function(){return!window.matchMedia("(max-width: 1023px)").matches},onPopupCloseClick:function(n){var t;if(n.stopPropagation(),!r.isDesktop()){var e=document.querySelector(".c-topnav .c-topnav__navsec .c-topnav__navsec__lt-col.active .c-topnav__backmenu__close");e&&e.click()}null===(t=n.target.closest(".".concat(r.css.main)))||void 0===t||t.classList.remove("open"),document.body.classList.remove("country-selector-open")},onPopupBackClick:function(n){var t;n.stopPropagation(),n.preventDefault(),null===(t=n.target.closest(".".concat(r.css.main)))||void 0===t||t.classList.remove("open"),document.body.classList.remove("country-selector-open")},onToggleRegionClick:function(n){if(n.stopPropagation(),!r.isDesktop()){var t=n.target,e=t.closest(".".concat(r.css.region));if(e){var o="expand";e.classList.toggle(o),e.classList.contains(o)?t.setAttribute("aria-expanded","true"):t.setAttribute("aria-expanded","false")}}},onCountryClick:function(n){var t=n.target,e=r.getCountrySubDomain(t);r.sendStl("click-".concat(e))},setupOpenOverlayBtn:function(n){r.dom.openLayoverBtnAll().forEach((function(t){t.addEventListener("click",(function(){r.sendStl("displayed"),n.classList.add("open"),document.body.classList.add("country-selector-open");var t=n.querySelectorAll("a, button"),e=(0,o.A)(t,1)[0];e&&e.focus()}))}))},getCountrySubDomain:function(n){try{var t=new URL(n.href).host.split(".");if(3===t.length)return t[0]}catch(n){console.log("Top Nav Country-selector: getCountrySubDomain() ::"+n)}return""},sendStl:function(n){if("undefined"!=typeof s){var t,e=(null===(t=window.nortonAnalytics)||void 0===t?void 0:t.page_name)||"N/A",o="nortoncom-".concat(e,"_ctryselect-").concat(n);s.linkTrackVars="prop41,eVar41",s.eVar41="norton.com",s.prop41="norton.com",s.tl(!0,"o",o)}},setupKeyNavigator:function(n){var t=n.querySelectorAll("a, button");if(t.length>0){t[t.length-1].addEventListener("keydown",(function(n){9===n.keyCode&&(n.preventDefault(),t[0].focus())}));var e=r.dom.regionToggleBtnAll(n);if(e.length>0){var o=e[e.length-1];r.isDesktop()||o.addEventListener("keydown",(function(n){var e;9===n.keyCode&&((null===(e=o.closest(".".concat(r.css.region)))||void 0===e?void 0:e.classList.contains("expand"))||(n.preventDefault(),t[0].focus()))}))}}},init:function(){var n=r.dom.main();n&&(r.setupOpenOverlayBtn(n),r.dom.regionAll(n).forEach((function(n){var t,e=null===(t=n.querySelector(".".concat(r.css.regionCountries)))||void 0===t?void 0:t.children.length;n.style.setProperty("--column-count",e)})),r.dom.popupCloseBtn().addEventListener("click",r.onPopupCloseClick),r.dom.popupBackBtn().addEventListener("click",r.onPopupBackClick),r.dom.regionToggleBtnAll(n).forEach((function(n){n.addEventListener("click",r.onToggleRegionClick)})),r.dom.countryLinkAll(n).forEach((function(n){n.addEventListener("click",r.onCountryClick)})),r.setupKeyNavigator(n))}},c=r;document.addEventListener("DOMContentLoaded",(function(){c.init()}))},3145:function(n,t,e){function o(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,o=Array(t);e<t;e++)o[e]=n[e];return o}e.d(t,{A:function(){return o}})},296:function(n,t,e){e.d(t,{A:function(){return r}});var o=e(7800);function r(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var o,r,c,i,a=[],l=!0,u=!1;try{if(c=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;l=!1}else for(;!(l=(o=c.call(e)).done)&&(a.push(o.value),a.length!==t);l=!0);}catch(n){u=!0,r=n}finally{try{if(!l&&null!=e.return&&(i=e.return(),Object(i)!==i))return}finally{if(u)throw r}}return a}}(n,t)||(0,o.A)(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7800:function(n,t,e){e.d(t,{A:function(){return r}});var o=e(3145);function r(n,t){if(n){if("string"==typeof n)return(0,o.A)(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?(0,o.A)(n,t):void 0}}}},function(n){var t;t=4848,n(n.s=t)}]);